<!DOCTYPE html>
<html>
    <head>
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1"/>
        <meta charset="UTF-8">
        <meta name="theme-color" content="#4b75ff">
        <link rel="stylesheet" href="../script/semantic/semantic.min.css">
        <script src="../script/jquery.min.js"></script>
        <script src="../script/ao_module.js"></script>
        <script src="../script/semantic/semantic.min.js"></script>
        <title>TorrentA</title>
        <style>
            body{
                background-color:white;
            }

            /*
                Theme Color
                #E3170A red
                #70ABAF green
                #FCF6B1 yellow
                #5ADBFF Blue
                #414288 purple
                #2D1E2F dark purple
            */

            .downloadTask:hover{
                background-color: #e8e8e8;
            }

            .downloadTask.selected{

            }
        </style>
    </head>
    <body>
        <div class="ui labeled icon small menu">
            <a class="item" onclick="newJob();">
                <i class="add icon"></i>
                New Job
            </a>
            <a class="item" style="color: #E3170A;">
                <i class="trash icon"></i>
                Delete
            </a>
            <a class="item" style="color: #70ABAF;">
                <i class="play icon"></i>
                Start
            </a>
            <a class="item">
                <i class="square icon"></i>
                Stop
            </a>
        </div>
        <div class="ui basic segment">
            <p>The table below only shows download tasks initiated by you. The host system bandwidth is shared among other users (if any).</p>
            <table class="ui basic unstackable celled table">
                <thead>
                    <tr><th>Status</th>
                    <th>Torrent Name</th>
                    <th>Size</th>
                    <th>Progress</th>
                    <th>Job Added</th>
                    <th>Done Time</th>
                </tr></thead>
                <tbody>
                    <tr class="downloadTask">
                        <td><i class="checkmark icon"></i></td>
                        <td>test.torrent</td>
                        <td>25Mb</td>
                        <td>30%</td>
                        <td>2021 Feb 17</td>
                        <td></td>
                    </tr>
                </tbody>
            </table>

            <!-- Add job confirmation -->
            <div id="newjob" class="ui modal">
                <i class="close icon"></i>
                <div class="header">
                  Add New Job
                </div>
                <div class="content">
                  <div class="description">
                    <p>Add Job by Torrent File</p>
                    <div class="ui action fluid input">
                        <input type="text" id="targetTorrentFile" placeholder="user:/Desktop/myfile.torrent">
                        <button class="ui button" onclick="selectTorrentFile();"><i class="folder open icon"></i> Open</button>
                    </div>
                    <div class="ui divider"></div>
                    <p>Or Add Job by Magnet Link</p>
                    <div class="ui left icon fluid input">
                        <input type="text" id="magnetLink" placeholder="magnet:?">
                        <i style="transform: rotate(90deg);" class="magnet icon"></i>
                    </div>
                  </div>
                </div>
                <div class="actions">
                
                  <div class="ui positive left labeled icon button">
                    <i class="checkmark icon"></i>
                    OK
                  </div>
                  <div class="ui black deny button">
                    Cancel
                  </div>
                </div>
              </div>
        </div>
        <script>
            var flist = ao_module_loadInputFiles();
            if (flist == null){
                
            }else{
               
            }

            function newJob(){
                $("#newjob").modal('show');
            }

            function selectTorrentFile(){
                ao_module_openFileSelector(torrentFileSelected, "user:/Desktop", "file", true, {
                    filter: ["torrent"]
                });
            }

           

            function torrentFileSelected(filedata){
                for (var i=0; i < filedata.length; i++){
                    var filename = filedata[i].filename;
                    var filepath = filedata[i].filepath;
                    $("#targetTorrentFile").val(filepath);
                }
            }
        </script>
    </body>
</html>